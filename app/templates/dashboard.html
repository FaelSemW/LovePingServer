{% extends "base.html" %}
{% block content %}
<div class="grid lg:grid-cols-3 gap-6">
  <div class="lg:col-span-2 card">
    <div class="flex items-start justify-between gap-4">
      <div>
        <h2 class="text-2xl font-semibold">Dashboard</h2>
        <p class="text-zinc-400 mt-1">Logado como <span class="pill">{{ username }}</span></p>
      </div>
      <a class="btn-ghost" href="/logout">Sair</a>
    </div>
    <div class="mt-6 grid md:grid-cols-2 gap-4">
      <div class="mini">
        <div class="text-xs text-zinc-400">Spotify</div>
        {% if not spotify_configured %}
          <div class="mt-2 text-amber-300 font-medium">Configure Spotify no Railway (variables)</div>
        {% else %}
          {% if linked %}
            <div class="mt-2 text-green-300 font-medium">Conectado ✅</div>
          {% else %}
            <div class="mt-2 text-amber-300 font-medium">Não conectado</div>
            <div class="mt-3"><a class="btn" href="/spotify/connect">Conectar Spotify</a></div>
          {% endif %}
        {% endif %}
      </div>
      <div class="mini">
        <div class="text-xs text-zinc-400">Para usar no app</div>
        <div class="mt-2 code break-words">{{ domain }}</div>
        <div class="mt-3 code break-words">{{ ws_url }}</div>
      </div>
    </div>
  </div>
  <div class="card card-glow">
    <div class="text-sm text-zinc-400">Redirect URI (Spotify)</div>
    <div class="mt-3 code break-words">{{ redirect_uri }}</div>
    <div class="mt-6 p-3 rounded-xl bg-black/40 border border-white/10 text-xs text-zinc-300">
      Teste: <span class="code">/health</span>
    </div>
  </div>
</div>
{% endblock %}
